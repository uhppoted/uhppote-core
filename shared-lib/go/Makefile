LIB=../lib

format:
	go fmt ./...

build: format
	go build -trimpath -buildmode=c-shared -o $(LIB)/libuhppoted.so ./...

debug: format
	go build -trimpath -buildmode=c-shared -tags debug -o $(LIB)/debug/libuhppoted.so ./...

tests: format
	go build -trimpath -buildmode=c-shared -tags tests -o $(LIB)/tests/libuhppoted.so ./...

all: format
	go build -trimpath -buildmode=c-shared             -o $(LIB)/libuhppoted.so       ./...
	go build -trimpath -buildmode=c-shared -tags debug -o $(LIB)/debug/libuhppoted.so ./...
	go build -trimpath -buildmode=c-shared -tags tests -o $(LIB)/tests/libuhppoted.so ./...

